Combinar el singleton anterorior con un patrón factory.